{% extends "main/base.html" %}

{% load static from staticfiles %}

{% block title %}Categories{% endblock %}

{% block header %}Categories{% endblock %}

{% block breadcrumb %}
  <li><a href="{% url 'index' %}">Home</a></li>
  <li class="active">Categories</li>
{% endblock %}

{% block content %}

  <form id="category-form" action="{% url 'category-list' %}" method="post">{% csrf_token %}

    <div class="row">
      <div class="col-sm-4">

      </div>
    </div>

    <br />
    <br />

    <datalist id="datalist-color-choices">
      <option>#f2f3f4</option>
      <option>#222222</option>
      <option>#f3c300</option>
      <option>#875692</option>
      <option>#f38400</option>
      <option>#a1caf1</option>
      <option>#be0032</option>
      <option>#c2b280</option>
      <option>#848482</option>
      <option>#008856</option>
      <option>#e68fac</option>
      <option>#0067a5</option>
      <option>#f99379</option>
      <option>#604e97</option>
      <option>#f6a600</option>
      <option>#b3446c</option>
      <option>#dcd300</option>
      <option>#882d17</option>
      <option>#8db600</option>
      <option>#654522</option>
      <option>#e25822</option>
      <option>#2b3d26</option>
    </datalist>

    <div class="row">
      <div class="col-sm-4 col-sm-offset-4">
        <div class="form-group categories">

          {% for c in categories %}

          <div class="input-group-wrapper">
            <input type="hidden" name="category-{{ forloop.counter0 }}" value="{{ c.pk }}"/>
            <div class="input-group">
              <input required type="text" class="form-control" maxlength="50" name="category-{{ forloop.counter0 }}" value="{{ c.name }}" placeholder="Category Name"/>
              <span class="input-group-btn">
                <input required type="color" class="form-control btn btn-default" list="datalist-color-choices" maxlength="7" name="category-{{ forloop.counter0 }}" value="{{ c.color }}" style="width: 100px; border-bottom-right-radius: 4px; border-top-right-radius: 4px;"/>
              </span>
            </div>
            <br />
          </div>

          {% if forloop.last %}
            <div class="initial-count" style="display: none">{{ forloop.counter }}</div>
          {% endif %}

          {% endfor %}

        </div>
      </div>
      <div class="col-sm-1">
        <button class="btn btn-default" id="add-category" tabindex="-1"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></button>
      </div>
    </div>

  </form>

    <div class="row text-center">
      <div class="col-md-2 col-md-offset-4">
        <a class="btn btn-lg btn-default" href="{% url 'index' %}"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span> Back</a>
      </div>
      <div class="col-md-2">
        <button type="button" id="submit-form" class="btn btn-lg btn-default" role="button"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span> Publish</button>
      </div>
    </div>

{% endblock %}

{% block script %}<script src="{% static 'main/js/category_list.js' %}" type="text/javascript"></script>{% endblock %}
